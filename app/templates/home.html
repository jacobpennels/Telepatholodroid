{% extends "layout.html" %}

{% block title %}Home{% endblock %}

{% block body %}
    <div data-role="page" data-url="{{ url_for('home') }}">
        {% include 'leftpanel.html' %}
        <!-- Slide info part -->
        {% for s in slide_list %}
            {% with name="Slide " ~ s, id = s %}
                {% include 'bottomsheet.html' %}
            {% endwith %}
        {% endfor %}
        <div id="page_header_1" data-role="header" data-position="fixed">
            <a href="#leftpanel" data-wow-delay="0.8s" data-role="button" role="button" style="visibility:visible;animation-delay:0.8s;animation-name:fadeIn;"><i class="zmdi zmdi-menu"></i></a>
            <h1>Telepatholodroid</h1>
            <h3>Slide selection</h3>
        </div>
        <div role="main" class="ui-content">
             <div class="row center-lg">
                <div class="col-xs-3">
                    <h3>Filter options</h3>
                     <form>
                        <label for="cancer_type">Cancer type</label>
                        <select name="cancer_type" id="cancer_type" data-native-menu="false">
                            <option value="oral">Oral</option>
                            <option value="stomach">Stomach</option>
                            <option value="chest">Chest</option>
                        </select>
                    </form>
                    <br>
                    <h3>Sorting options</h3>
                    <form>
                        <label for="prev_img">Only show previously annotated?</label>
                        <select name="prev_img" id="prev_img" data-role="flipswitch">
                            <option value="no" selected="selected">NO</option>
                            <option value="yes">YES</option>
                        </select>
                        <label for="list_sort" class="select">Sort by</label>
                        <select name="list_sort" id="list_sort" data-native-menu="false">
                            <option value="recent_access" selected="selected">Most recently accessed</option>
                            <option value="date_latest">Date: Latest</option>
                            <option value="date_earliest">Date: Earliest</option>
                            <option value="alphabetical_descending">Alphabetical: Descending</option>
                            <option value="alphabetical_ascending">Alphabetical: Ascending</option>
                        </select>
                    </form>
                </div>
                <div class="col-xs-9">
                    <ul id="list_of_slides" data-role="listview" data-icon="false">
                        {% for s in slide_list %}
                            <li id="slide{{ s }}">
                                <a href="#bottomsheetopt{{ s }}">
                                    <img src="{{ url_for('static', filename='image/thumb1.jpg') }}" class="ui-thumbnail ui-thumbnail-circular">
                                    <h2>Slide {{ s }}</h2>
                                    <p>Tap for more info</p>
                                </a>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
    {% block script_section %}
    <script>
    $(document).ready(function () {
        $("#list_of_slides").each(function() {
            $(this).find('li').each(function() {
                console.log(this);
            })
        });
        // -- Sets up scrollable list --
        const $window_height = $(window).height();
        const $header_height = $('#page_header_1').height();
        const $body_height = ($window_height - $header_height);
        //console.log($window_height);
        //console.log($header_height);
        //console.log($body_height);
        $('#list_of_slides').css({
            height: $body_height
        });
        // --End of snippet --
    });
    </script>
    {% endblock %}

{% endblock %}
